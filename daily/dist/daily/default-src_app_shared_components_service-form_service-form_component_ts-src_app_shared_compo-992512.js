"use strict";(self.webpackChunkDaily=self.webpackChunkDaily||[]).push([["default-src_app_shared_components_service-form_service-form_component_ts-src_app_shared_compo-992512"],{3337:(U,v,a)=>{a.d(v,{g:()=>A});var n=a(4953),s=a(2340),C=a(3184),m=a(8784);let A=(()=>{class e{constructor(o){this.http=o}getAll(o){return this.http.get(s.N.url+n.X.LOOKUPS.LOOKUP_PATH+("prices"===o?n.X.LOOKUPS.PRICES:n.X.LOOKUPS.PG)+n.X.CRUD.GET_ALL,{})}managePgGroup(o,p){return this.http.post(s.N.url+n.X.LOOKUPS.LOOKUP_PATH+n.X.LOOKUPS.PG+(p?n.X.CRUD.UPDATE:n.X.CRUD.ADD),o)}getPgGroupById(o){return this.http.post(s.N.url+n.X.LOOKUPS.LOOKUP_PATH+n.X.LOOKUPS.PG+n.X.CRUD.GET,{pgGroupId:o})}updatePriceGroups(o,p){return this.http.post(s.N.url+n.X.LOOKUPS.LOOKUP_PATH+n.X.LOOKUPS.PRICES+n.X.CRUD.UPDATE_BATCH,{priceGroupList:p})}deletePriceGroup(o){return this.http.post(s.N.url+n.X.LOOKUPS.LOOKUP_PATH+n.X.LOOKUPS.PG+n.X.CRUD.DELETE,{pgGroupId:o})}}return e.\u0275fac=function(o){return new(o||e)(C.LFG(m.eN))},e.\u0275prov=C.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},1121:(U,v,a)=>{a.d(v,{k:()=>A});var n=a(4953),s=a(2340),C=a(3184),m=a(8784);let A=(()=>{class e{constructor(o){this.http=o,this.baseUrl=s.N.url+n.X.LOOKUPS.LOOKUP_PATH}getAllRatePlans(){return this.http.post(this.baseUrl+n.X.RATEPLANS_ENDPOINTS.RATEPALN+n.X.CRUD.GET_ALL,{})}updateRatePlan(o){let p=[];for(let h of o)p.push({ratePlanCode:h.ratePlanCode,showFlag:h.showFlag,ratePlanGroupKey:h.ratePlanGroupKey});return this.http.post(this.baseUrl+n.X.RATEPLANS_ENDPOINTS.RATEPALN+n.X.CRUD.UPDATE,Object.assign({},p))}updateRateplansList(o){console.log(o);let p=[];for(let h of o)p.push({ratePlanCode:h.ratePlanCode,showFlag:h.showFlag,ratePlanGroupKey:h.ratePlanGroupKey});return this.http.post(this.baseUrl+n.X.RATEPLANS_ENDPOINTS.RATEPALN+n.X.CRUD.UPDATE_BATCH,{ratePlans:[...p]})}getRateplaneGroup(o){return this.http.post(this.baseUrl+n.X.RATEPLANS_ENDPOINTS.RATEPALNGROUPS+n.X.CRUD.GET,{ratePlanGroupKey:parseInt(o)})}getAllRatePlanGroups(){return this.http.post(this.baseUrl+n.X.RATEPLANS_ENDPOINTS.RATEPALNGROUPS+n.X.CRUD.GET_ALL,{})}updateRatePlanGroup(o){return this.http.post(this.baseUrl+n.X.RATEPLANS_ENDPOINTS.RATEPALNGROUPS+n.X.CRUD.UPDATE,Object.assign({},o))}createRateplanGroup(o){return this.http.post(this.baseUrl+n.X.RATEPLANS_ENDPOINTS.RATEPALNGROUPS+n.X.CRUD.ADD,o)}deletRateplanGroup(o){return this.http.post(this.baseUrl+n.X.RATEPLANS_ENDPOINTS.RATEPALNGROUPS+n.X.CRUD.DELETE,{ratePlanGroupKey:o})}}return e.\u0275fac=function(o){return new(o||e)(C.LFG(m.eN))},e.\u0275prov=C.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},5036:(U,v,a)=>{a.d(v,{r:()=>e});var n=a(253),s=a(4953),C=a(2340),m=a(3184),A=a(8784);let e=(()=>{class d{constructor(p){this.http=p,this.searchSubject=new n.x,this.clearSubject=new n.x}getAllServices(p){return this.http.post(C.N.url+s.X.LOOKUPS.LOOKUP_PATH+("tariffs"===p?s.X.LOOKUPS.TARIFFS:s.X.LOOKUPS.CLASSES)+s.X.CRUD.GET_ALL,{})}updateServices(p,h){return this.http.post(C.N.url+s.X.LOOKUPS.LOOKUP_PATH+("tariffs"===p?s.X.LOOKUPS.TARIFFS:s.X.LOOKUPS.CLASSES)+s.X.CRUD.UPDATE_BATCH,"tariffs"===p?{tariffModelList:h}:{serviceClasseList:h})}}return d.\u0275fac=function(p){return new(p||d)(m.LFG(A.eN))},d.\u0275prov=m.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},2517:(U,v,a)=>{a.d(v,{I:()=>G});var n=a(1915),s=a(3184),C=a(5036),m=a(6362),A=a(5583),e=a(1229),d=a(4086),o=a(8271),p=a(4633);function h(_,f){if(1&_&&(s.TgZ(0,"span",15),s._UZ(1,"input",16),s.TgZ(2,"label",17),s._uU(3),s.qZA()()),2&_){const l=s.oxw().$implicit;s.xp6(1),s.s9C("formControlName",l.controlName),s.xp6(2),s.hij("",l.label," ")}}function P(_,f){if(1&_&&(s.TgZ(0,"span",15),s._UZ(1,"input",18),s.TgZ(2,"label",17),s._uU(3),s.qZA()()),2&_){const l=s.oxw().$implicit;s.xp6(1),s.s9C("formControlName",l.controlName),s.xp6(2),s.hij("",l.label," ")}}function x(_,f){if(1&_&&(s.TgZ(0,"span",15),s._UZ(1,"p-calendar",19),s.TgZ(2,"label",17),s._uU(3),s.qZA()()),2&_){const l=s.oxw().$implicit;s.xp6(1),s.s9C("formControlName",l.controlName),s.xp6(2),s.hij("",l.label," ")}}function N(_,f){if(1&_&&(s.TgZ(0,"span",15),s._UZ(1,"p-dropdown",20),s.TgZ(2,"label",17),s._uU(3),s.qZA()()),2&_){const l=s.oxw().$implicit;s.xp6(1),s.s9C("formControlName",l.controlName),s.Q6J("options",l.options)("optionLabel","ratePlanGroupKey"==l.controlName?"ratePlanGroup":"id")("optionValue","ratePlanGroupKey"==l.controlName?"ratePlanGroupKey":"value")("showClear",!0)("autoDisplayFirst",!1),s.xp6(2),s.hij("",l.label," ")}}function y(_,f){if(1&_&&(s.TgZ(0,"span",21),s._UZ(1,"p-checkbox",22),s.TgZ(2,"label",23),s._uU(3),s.qZA()()),2&_){const l=s.oxw().$implicit;s.xp6(1),s.s9C("formControlName",l.controlName),s.Q6J("binary",!0)("trueValue",1)("falseValue",0),s.xp6(2),s.hij("",l.label," ")}}function L(_,f){if(1&_&&(s.TgZ(0,"span",12),s.YNc(1,h,4,2,"span",13),s.YNc(2,P,4,2,"span",13),s.YNc(3,x,4,2,"span",13),s.YNc(4,N,4,7,"span",13),s.YNc(5,y,4,5,"span",14),s.qZA()),2&_){const l=f.$implicit,I=s.oxw();s.Q6J("ngClass",I.isInline?"":"mr-right"),s.xp6(1),s.Q6J("ngIf","text"===l.type),s.xp6(1),s.Q6J("ngIf","number"===l.type),s.xp6(1),s.Q6J("ngIf","date"===l.type),s.xp6(1),s.Q6J("ngIf","dropDown"===l.type),s.xp6(1),s.Q6J("ngIf","checkbox"===l.type)}}let G=(()=>{class _{constructor(l){this.tariffClassesService=l,this.serviceType="Service classes"}ngOnInit(){this.initForm()}initForm(){switch(this.source){case"tariffs":this.searchForm=new n.cw({tariffModelName:new n.NI,tariffModelType:new n.NI,hybird:new n.NI,contractType:new n.NI,activationSource:new n.NI,bundleType:new n.NI,deactivationSourceFlag:new n.NI});break;case"classes":this.searchForm=new n.cw({serviceClassName:new n.NI,serviceClassType:new n.NI,hybird:new n.NI,contractType:new n.NI,activationSource:new n.NI,bundleType:new n.NI,deacSourceFlag:new n.NI});break;case"rateplans":this.searchForm=new n.cw({ratePlan:new n.NI,ratePlanType:new n.NI,activationSourceFlag:new n.NI,contractType:new n.NI,showFlag:new n.NI,ratePlanGroupKey:new n.NI});break;case"rateplansGroups":this.searchForm=new n.cw({description:new n.NI,ratePlanGroup:new n.NI,showFlag:new n.NI});break;case"prices":this.searchForm=new n.cw({priceGroup:new n.NI,pgGroup:new n.NI});break;case"pgGroups":this.searchForm=new n.cw({pgGroup:new n.NI,description:new n.NI,showFlag:new n.NI});break;case"footprint":this.searchForm=new n.cw({userId:new n.NI,date:new n.NI})}}onSubmit(){this.tariffClassesService.searchSubject.next(this.searchForm.value)}resetForm(){this.searchForm.reset(),this.tariffClassesService.clearSubject.next(!0)}}return _.\u0275fac=function(l){return new(l||_)(s.Y36(C.r))},_.\u0275cmp=s.Xpm({type:_,selectors:[["app-service-form"]],inputs:{source:"source",inputs:"inputs",isInline:"isInline"},decls:14,vars:4,consts:[[1,"wrapper"],[1,"search-title"],[1,"search"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"search-form",3,"ngClass"],[1,"dropList",3,"ngClass"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"btns"],["pButton","","type","button","label","Reset",1,"btn","btn-light",3,"click"],[1,"pi","pi-refresh"],[1,"break"],["pButton","","type","submit","label","Search",1,"btn","btn-basic",2,"width","100px"],[3,"ngClass"],["class","p-float-label",4,"ngIf"],["class","check",4,"ngIf"],[1,"p-float-label"],["id","input.label","type","text","pInputText","","maxlength","50",2,"width","16vw",3,"formControlName"],["for","input.label"],["id","input.label","type","number","pInputText","","maxlength","50",2,"width","16vw",3,"formControlName"],[3,"formControlName"],["styleClass","searchDrop",3,"options","optionLabel","optionValue","showClear","autoDisplayFirst","formControlName"],[1,"check"],[3,"binary","trueValue","falseValue","formControlName"],[1,"check-label"]],template:function(l,I){1&l&&(s.TgZ(0,"div",0)(1,"div",1)(2,"span",2),s._uU(3,"Search"),s.qZA()(),s.TgZ(4,"form",3),s.NdJ("ngSubmit",function(){return I.onSubmit()}),s.TgZ(5,"div",4)(6,"div",5),s.YNc(7,L,6,6,"span",6),s.qZA(),s.TgZ(8,"div",7)(9,"button",8),s.NdJ("click",function(){return I.resetForm()}),s._UZ(10,"i",9),s.qZA(),s.TgZ(11,"span",10),s._uU(12,"|"),s.qZA(),s._UZ(13,"button",11),s.qZA()()()()),2&l&&(s.xp6(4),s.Q6J("formGroup",I.searchForm),s.xp6(1),s.Q6J("ngClass",I.isInline?"flexInline":""),s.xp6(1),s.Q6J("ngClass",I.isInline?"inlineMode":"flex-start"),s.xp6(1),s.Q6J("ngForOf",I.inputs))},directives:[n._Y,n.JL,n.sg,m.mk,m.sg,m.O5,n.Fj,A.o,n.nD,n.JJ,n.u,n.wV,e.f,d.Lt,o.XZ,p.Hq],styles:['.wrapper[_ngcontent-%COMP%] {\n  border: 1px solid;\n  border-color: #dfdfdf;\n  margin-top: 17px;\n  padding: 20px;\n  border-radius: 12px;\n}\n.wrapper[_ngcontent-%COMP%]   .search-title[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  margin-top: 10px;\n}\n.wrapper[_ngcontent-%COMP%]   .search-title[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%] {\n  font-weight: 600;\n}\n.wrapper[_ngcontent-%COMP%]   .search-title[_ngcontent-%COMP%]   .viewLess[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\n  border-radius: 50%;\n  border: 1px solid var(--darkBlue);\n  margin-left: 6px;\n}\n.wrapper[_ngcontent-%COMP%]   .search-form[_ngcontent-%COMP%]   .dropList[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: space-between;\n}\n.wrapper[_ngcontent-%COMP%]   .search-form[_ngcontent-%COMP%]   .dropList[_ngcontent-%COMP%]   .p-float-label[_ngcontent-%COMP%] {\n  margin-top: 20px;\n}\n.wrapper[_ngcontent-%COMP%]   .search-form[_ngcontent-%COMP%]   .dropList[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%] {\n  position: relative;\n  top: 22px;\n}\n.wrapper[_ngcontent-%COMP%]   .search-form[_ngcontent-%COMP%]   .dropList[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]   p-checkbox[_ngcontent-%COMP%] {\n  vertical-align: middle;\n}\n.wrapper[_ngcontent-%COMP%]   .search-form[_ngcontent-%COMP%]   .dropList[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]   .check-label[_ngcontent-%COMP%] {\n  color: var(--darkGray);\n  padding-left: 4px;\n  position: relative;\n  top: 1px;\n}\n.wrapper[_ngcontent-%COMP%]   .search-form[_ngcontent-%COMP%]   .dropList.inlineMode[_ngcontent-%COMP%] {\n  justify-content: start;\n}\n.wrapper[_ngcontent-%COMP%]   .search-form[_ngcontent-%COMP%]   .dropList.inlineMode[_ngcontent-%COMP%]   .p-float-label[_ngcontent-%COMP%] {\n  margin-right: 20px;\n}\n.wrapper[_ngcontent-%COMP%]   .flexInline[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: space-between;\n}\n.wrapper[_ngcontent-%COMP%]   .btns[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: end;\n}\n.wrapper[_ngcontent-%COMP%]   .btns[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\n  margin: 20px 0;\n}\n.wrapper[_ngcontent-%COMP%]   .btns[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\n  margin-right: 10px;\n}\n.wrapper[_ngcontent-%COMP%]   .break[_ngcontent-%COMP%] {\n  font-family: "icomoon";\n  font-weight: lighter;\n  font-size: 31px;\n  margin: 16px 18px;\n}\n.mr-right[_ngcontent-%COMP%] {\n  margin-right: 1rem;\n}\n.flex-start[_ngcontent-%COMP%] {\n  justify-content: flex-start !important;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZpY2UtZm9ybS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGlCQUFBO0VBQ0EscUJBQUE7RUFDQSxnQkFBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtBQUNGO0FBQUU7RUFDRSxhQUFBO0VBQ0EsOEJBQUE7RUFDQSxXQUFBO0VBQ0EsZ0JBQUE7QUFFSjtBQURJO0VBQ0UsZ0JBQUE7QUFHTjtBQUFNO0VBQ0Usa0JBQUE7RUFDQSxpQ0FBQTtFQUNBLGdCQUFBO0FBRVI7QUFHSTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtFQUNBLGVBQUE7RUFDQSw4QkFBQTtBQUROO0FBRU07RUFDRSxnQkFBQTtBQUFSO0FBRU07RUFDRSxrQkFBQTtFQUNBLFNBQUE7QUFBUjtBQUNRO0VBQ0Usc0JBQUE7QUFDVjtBQUNRO0VBQ0Usc0JBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsUUFBQTtBQUNWO0FBR0k7RUFDRSxzQkFBQTtBQUROO0FBRU07RUFDRSxrQkFBQTtBQUFSO0FBSUU7RUFDRSxhQUFBO0VBQ0EsOEJBQUE7QUFGSjtBQUlFO0VBQ0UsYUFBQTtFQUNBLG9CQUFBO0FBRko7QUFHSTtFQUNFLGNBQUE7QUFETjtBQUVNO0VBQ0Usa0JBQUE7QUFBUjtBQUlFO0VBQ0Usc0JBQUE7RUFDQSxvQkFBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtBQUZKO0FBTUE7RUFDRSxrQkFBQTtBQUhGO0FBS0E7RUFDRSxzQ0FBQTtBQUZGIiwiZmlsZSI6InNlcnZpY2UtZm9ybS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi53cmFwcGVyIHtcclxuICBib3JkZXI6IDFweCBzb2xpZDtcclxuICBib3JkZXItY29sb3I6ICNkZmRmZGY7XHJcbiAgbWFyZ2luLXRvcDogMTdweDtcclxuICBwYWRkaW5nOiAyMHB4O1xyXG4gIGJvcmRlci1yYWRpdXM6IDEycHg7XHJcbiAgLnNlYXJjaC10aXRsZSB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xyXG4gICAgLnNlYXJjaCB7XHJcbiAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgICB9XHJcbiAgICAudmlld0xlc3Mge1xyXG4gICAgICBpIHtcclxuICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tZGFya0JsdWUpO1xyXG4gICAgICAgIG1hcmdpbi1sZWZ0OiA2cHg7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgLnNlYXJjaC1mb3JtIHtcclxuICAgIC5kcm9wTGlzdCB7XHJcbiAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgICAgIGZsZXgtd3JhcDogd3JhcDtcclxuICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gICAgICAucC1mbG9hdC1sYWJlbCB7XHJcbiAgICAgICAgbWFyZ2luLXRvcDogMjBweDtcclxuICAgICAgfVxyXG4gICAgICAuY2hlY2sge1xyXG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgICAgICB0b3A6IDIycHg7XHJcbiAgICAgICAgcC1jaGVja2JveCB7XHJcbiAgICAgICAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAuY2hlY2stbGFiZWwge1xyXG4gICAgICAgICAgY29sb3I6IHZhcigtLWRhcmtHcmF5KTtcclxuICAgICAgICAgIHBhZGRpbmctbGVmdDogNHB4O1xyXG4gICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgICAgICAgdG9wOiAxcHg7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICAuZHJvcExpc3QuaW5saW5lTW9kZSB7XHJcbiAgICAgIGp1c3RpZnktY29udGVudDogc3RhcnQ7XHJcbiAgICAgIC5wLWZsb2F0LWxhYmVsIHtcclxuICAgICAgICBtYXJnaW4tcmlnaHQ6IDIwcHg7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgLmZsZXhJbmxpbmV7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gIH1cclxuICAuYnRucyB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBlbmQ7XHJcbiAgICBidXR0b24ge1xyXG4gICAgICBtYXJnaW46IDIwcHggMDtcclxuICAgICAgaSB7XHJcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIC5icmVhayB7XHJcbiAgICBmb250LWZhbWlseTogXCJpY29tb29uXCI7XHJcbiAgICBmb250LXdlaWdodDogbGlnaHRlcjtcclxuICAgIGZvbnQtc2l6ZTogMzFweDtcclxuICAgIG1hcmdpbjogMTZweCAxOHB4O1xyXG4gIH1cclxufVxyXG5cclxuLm1yLXJpZ2h0IHtcclxuICBtYXJnaW4tcmlnaHQ6IDFyZW07XHJcbn1cclxuLmZsZXgtc3RhcnQge1xyXG4gIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydCAhaW1wb3J0YW50O1xyXG59XHJcbiJdfQ== */']}),_})()},365:(U,v,a)=>{a.d(v,{Q:()=>q});var n=a(1915),s=a(253),C=a(6646),m=a(8951),A=a(635),e=a(3184),d=a(5036),o=a(1121),p=a(3337),h=a(1122),P=a(2263),x=a(6458),N=a(5795),y=a(6362),L=a(4086),G=a(8271),_=a(4633),f=a(6625);const l=["dt"];function I(i,u){if(1&i&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&i){const t=u.$implicit;e.xp6(1),e.Oqu(t.label)}}function F(i,u){1&i&&(e.TgZ(0,"th")(1,"div",9)(2,"span",10),e._uU(3,"|"),e.qZA()()())}function w(i,u){1&i&&(e.TgZ(0,"th"),e._uU(1," Actions "),e.qZA())}function S(i,u){if(1&i&&(e.ynx(0),e.YNc(1,F,4,0,"th",6),e.YNc(2,w,2,0,"th",6),e.BQk()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf","rateplansGroups"==t.source||"pgGroups"==t.source),e.xp6(1),e.Q6J("ngIf","rateplansGroups"==t.source||"pgGroups"==t.source)}}function B(i,u){if(1&i&&(e.TgZ(0,"tr"),e.YNc(1,I,2,1,"th",8),e.YNc(2,S,3,2,"ng-container",6),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.inputs),e.xp6(1),e.Q6J("ngIf",t.enableUpdate||t.enableDelete||t.viewDetails)}}function E(i,u){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit,r=e.oxw().$implicit;e.xp6(1),e.Oqu(r.get(t.controlName).value)}}function D(i,u){if(1&i&&(e.TgZ(0,"span",15),e._UZ(1,"p-dropdown",16),e.qZA()),2&i){const t=e.oxw().$implicit,r=e.oxw(2);e.xp6(1),e.s9C("formControlName",t.controlName),e.Q6J("options",t.options)("placeholder",t.label)("optionLabel","ratePlanGroupKey"==t.controlName?"ratePlanGroup":"id")("optionValue","ratePlanGroupKey"==t.controlName?"ratePlanGroupKey":"value")("showClear","classes"==r.source||"tariffs"==r.source)("autoDisplayFirst",!1)}}function Q(i,u){if(1&i&&e._UZ(0,"p-checkbox",17),2&i){const t=e.oxw().$implicit,r=e.oxw(2);e.s9C("formControlName",t.controlName),e.Q6J("disabled","pgGroups"===r.source)("binary",!0)("trueValue",1)("falseValue",0)}}function M(i,u){if(1&i&&(e.TgZ(0,"td"),e.YNc(1,E,2,1,"span",6),e.YNc(2,D,2,7,"span",13),e.TgZ(3,"div"),e.YNc(4,Q,1,5,"p-checkbox",14),e.qZA()()),2&i){const t=u.$implicit;e.xp6(1),e.Q6J("ngIf","text"===t.type),e.xp6(1),e.Q6J("ngIf","dropDown"===t.type),e.xp6(2),e.Q6J("ngIf","checkbox"===t.type)}}function R(i,u){1&i&&(e.TgZ(0,"td")(1,"div",9)(2,"span",10),e._uU(3,"|"),e.qZA()()())}function Z(i,u){1&i&&(e.TgZ(0,"span"),e._UZ(1,"i",21),e._uU(2," Edit"),e.qZA())}function X(i,u){1&i&&(e.TgZ(0,"span"),e._UZ(1,"i",22),e._uU(2," View Details"),e.qZA())}function J(i,u){if(1&i){const t=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(3),g=c.$implicit,b=c.rowIndex;return e.oxw().manageEdit(g,b)}),e.YNc(1,Z,3,0,"span",6),e.YNc(2,X,3,0,"span",6),e.qZA()}if(2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",t.enableUpdate),e.xp6(1),e.Q6J("ngIf",t.viewDetails&&!t.enableUpdate)}}function K(i,u){if(1&i){const t=e.EpF();e.TgZ(0,"button",23),e.NdJ("click",function(c){e.CHM(t);const g=e.oxw(3),b=g.$implicit,O=g.rowIndex;return e.oxw().manageDelete(c,b,O)}),e._UZ(1,"i",24),e._uU(2," Delete "),e.qZA()}}function H(i,u){if(1&i&&(e.TgZ(0,"td"),e.YNc(1,J,3,2,"button",18),e.YNc(2,K,3,0,"button",19),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.enableUpdate||t.viewDetails),e.xp6(1),e.Q6J("ngIf",t.enableDelete)}}function W(i,u){if(1&i&&(e.ynx(0),e.YNc(1,R,4,0,"td",6),e.YNc(2,H,3,2,"td",6),e.BQk()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf","rateplansGroups"==t.source||"pgGroups"==t.source),e.xp6(1),e.Q6J("ngIf","rateplansGroups"==t.source||"pgGroups"==t.source)}}function V(i,u){if(1&i){const t=e.EpF();e.ynx(0,11),e.TgZ(1,"tr",12),e.NdJ("click",function(){const g=e.CHM(t).rowIndex,b=e.oxw();return"footprint"==b.source?b.openLogDetails(g):""}),e.YNc(2,M,5,3,"td",8),e.YNc(3,W,3,2,"ng-container",6),e.qZA(),e.BQk()}if(2&i){const t=u.rowIndex,r=e.oxw();e.xp6(1),e.Q6J("formGroupName",t)("ngClass","footprint"==r.source?"pointer":""),e.xp6(1),e.Q6J("ngForOf",r.inputs),e.xp6(1),e.Q6J("ngIf",r.enableUpdate||r.enableDelete||r.viewDetails)}}function Y(i,u){1&i&&(e.TgZ(0,"tr")(1,"td",25),e._uU(2,"No Data found."),e.qZA()())}function j(i,u){if(1&i&&e._UZ(0,"button",28),2&i){const t=e.oxw(3);e.Q6J("disabled",0==t.Changeditems.length)}}function k(i,u){if(1&i&&e.YNc(0,j,1,1,"button",27),2&i){const t=e.oxw(2);e.Q6J("ngIf",t.enableUpdate)}}function z(i,u){1&i&&e.YNc(0,k,1,1,"ng-template",26)}const $=function(){return[5,15,25,50]};let q=(()=>{class i{constructor(t,r,c,g,b,O,T,ee){this.cdr=t,this.tariffsClasses=r,this.rateplansService=c,this.pricesService=g,this.confirmationService=b,this.router=O,this.priceService=T,this.footprintService=ee,this.loading=!1,this.pageSize=5,this.tableList=[],this.changesUnsubscribe=new s.x,this.Changeditems=[]}ngOnInit(){this.initForm(),this.getALLServices(),this.searchSubscription=this.tariffsClasses.searchSubject.subscribe(t=>{if("footprint"!==this.source){this.servicesList=this.tableListclone;for(const r in t)t[r]&&(this.servicesList=this.servicesList.filter(c=>"string"==typeof c[r]?(t[r]=t[r].toLowerCase(),c[r].toLowerCase().includes(t[r])):c[r]===t[r]));this.clearFormArray(),this.fillFormArray()}else this.clearFormArray(),this.epochDate=t.date?t.date.getTime():null,this.getAllFootprints(this.epochDate,t.userId)}),this.clearSubscription=this.tariffsClasses.clearSubject.subscribe(t=>{this.servicesList=this.tableListclone,this.clearFormArray(),this.fillFormArray()})}getALLServices(){"rateplans"==this.source?this.rateplansService.getAllRatePlans().subscribe(t=>{let r=this.footprintService.handleRateplansoldValue(t.payload);this.footprintService.handleOldValue(r,"ratePlanCode"),this.servicesList=t.payload,this.tableListclone=this.servicesList,this.fillFormArray()}):"rateplansGroups"==this.source?this.rateplansService.getAllRatePlanGroups().subscribe(t=>{this.servicesList=t.payload,this.tableListclone=this.servicesList,this.fillFormArray()}):"classes"==this.source||"tariffs"==this.source?this.tariffsClasses.getAllServices(this.source).subscribe(t=>{this.servicesList="classes"===this.source?t.payload.serviceClasseList:t.payload.tariffModelList,this.tableListclone="classes"===this.source?t.payload.serviceClasseList:t.payload.tariffModelList,this.footprintService.handleOldValue(this.tableListclone,"classes"===this.source?"serviceClassCode":"tariffModelCode"),this.fillFormArray()}):"prices"==this.source||"pgGroups"==this.source?this.pricesService.getAll(this.source).subscribe(t=>{"prices"===this.source&&this.footprintService.handlePriceGroupOldValue(t),this.servicesList="prices"===this.source?this.handlePriceGroupResponse(t):t.payload.allPriceGroupGroupsResponses,this.tableListclone="prices"===this.source?this.handlePriceGroupResponse(t):t.payload.allPriceGroupGroupsResponses,this.fillFormArray()}):"footprint"==this.source&&this.getAllFootprints()}handlePriceGroupResponse(t){return t.payload.priceGroupModel.map(r=>(r.pgGroup=r.pgGroupKey?r.pgGroupKey.pgGroup:null,r.pgKey=r.pgGroupKey?r.pgGroupKey.pgGroupKey:null,r))}clearFormArray(){for(;0!==this.servicesForm.get("servicesArray").length;)this.servicesForm.get("servicesArray").removeAt(0)}initForm(){this.servicesForm=new n.cw({servicesArray:new n.Oe([])})}ngAfterContentChecked(){this.cdr.detectChanges()}getControls(){return this.servicesForm.get("servicesArray").controls}fillFormArray(){this.servicesList.forEach(t=>{switch(this.source){case"tariffs":this.tableName="tariffModelName",this.servicesForm.get("servicesArray").push(new n.cw({tariffModelCode:new n.NI(t.tariffModelCode),tariffModelName:new n.NI(t.tariffModelName),tariffModelType:new n.NI(t.tariffModelType),hybird:new n.NI(t.hybird),activationSource:new n.NI(t.activationSource),contractType:new n.NI(t.contractType),bundleType:new n.NI(t.bundleType),deactivationSourceFlag:new n.NI(t.deactivationSourceFlag)}));break;case"classes":this.tableName="serviceClassName",this.servicesForm.get("servicesArray").push(new n.cw({serviceClassCode:new n.NI(t.serviceClassCode),serviceClassName:new n.NI(t.serviceClassName),serviceClassType:new n.NI(t.serviceClassType),hybird:new n.NI(t.hybird),activationSource:new n.NI(t.activationSource),contractType:new n.NI(t.contractType),bundleType:new n.NI(t.bundleType),deacSourceFlag:new n.NI(t.deacSourceFlag)}));break;case"rateplans":this.tableName="ratePlan",this.servicesForm.get("servicesArray").push(new n.cw({ratePlan:new n.NI({value:t.ratePlan,disabled:!0}),ratePlanType:new n.NI({value:t.ratePlanType,disabled:!0}),activationSourceFlag:new n.NI({value:t.activationSourceFlag,disabled:!0}),contractType:new n.NI({value:t.contractType,disabled:!0}),showFlag:new n.NI(t.showFlag),ratePlanGroupKey:new n.NI(t.ratePlanGroupKey)}));break;case"rateplansGroups":this.tableName="ratePlanGroup",this.servicesForm.get("servicesArray").push(new n.cw({description:new n.NI(t.description),ratePlanGroup:new n.NI(t.ratePlanGroup),showFlag:new n.NI({value:t.showFlag,disabled:!0})}));break;case"prices":this.servicesForm.get("servicesArray").push(new n.cw({priceGroup:new n.NI(t.priceGroup),pgGroup:new n.NI(t.pgGroup),pgKey:new n.NI(t.pgKey)}));break;case"pgGroups":this.servicesForm.get("servicesArray").push(new n.cw({pgGroupKey:new n.NI(t.pgGroupKey),pgGroup:new n.NI(t.pgGroup),description:new n.NI(t.description),showFlag:new n.NI(t.showFlag)}));break;case"footprint":this.servicesForm.get("servicesArray").push(new n.cw({userName:new n.NI(t.userName),userId:new n.NI(t.userId),pageName:new n.NI(t.pageName),date:new n.NI(t.date),objectIdentifier:new n.NI(t.objectIdentifier),actionName:new n.NI(t.actionName)}))}}),this.tableList=[...this.servicesForm.controls.servicesArray.value],this.detectFormArryChanges()}updateList(){"rateplans"==this.source?(this.Changeditems=this.Changeditems?this.Changeditems.map(t=>t.data):[],this.footprintService.handleNewValue(this.Changeditems),this.rateplansService.updateRateplansList(this.Changeditems).subscribe(t=>{this.Changeditems=[],this.clearFormArray(),this.getALLServices()})):"classes"===this.source||"tariffs"===this.source?(this.Changeditems=this.Changeditems?this.Changeditems.map(t=>(console.log("Changeditems",t.data),t.data)):[],this.footprintService.handleNewValue(this.Changeditems),this.tariffsClasses.updateServices(this.source,this.Changeditems).subscribe(t=>{this.Changeditems=[],this.clearFormArray(),this.getALLServices()})):("prices"==this.source||"pgGroups"==this.source)&&(this.Changeditems=this.Changeditems.map(t=>(t.data={priceGroupCode:t.data.priceGroupCode,pgGroupKey:t.data.pgKey},t.data)),this.footprintService.handleNewValue(this.Changeditems),this.pricesService.updatePriceGroups(this.source,this.Changeditems).subscribe(t=>{this.Changeditems=[],this.clearFormArray(),this.getALLServices()}))}manageEdit(t,r){"pgGroups"===this.source?this.editPgGroup(t.value.pgGroupKey):"rateplansGroups"===this.source&&this.editRateplaneGroup(r)}manageDelete(t,r,c){this.confirmationService.confirm({target:t.target,message:"rateplansGroups"===this.source?"Are you sure that you want to delete this Rateplan Group ?":"Are you sure that you want to delete this PG Group ?",icon:"pi pi-exclamation-triangle",accept:()=>{if("rateplansGroups"===this.source){let g=this.servicesList[c].ratePlanGroupKey;this.footprintService.objectIdentifier=g,this.rateplansService.deletRateplanGroup(g).subscribe(b=>this.rateplansService.getAllRatePlanGroups().subscribe(O=>{this.servicesList=O.payload,this.tableListclone=this.servicesList,this.servicesForm.get("servicesArray").clear(),this.fillFormArray()}))}else if("pgGroups"==this.source){let g=r.value.pgGroupKey;this.footprintService.objectIdentifier=g,this.priceService.deletePriceGroup(g).subscribe(b=>{this.priceService.getAll("PG").subscribe(O=>{this.servicesList=O.payload.allPriceGroupGroupsResponses,this.tableListclone=this.servicesList,this.servicesForm.get("servicesArray").clear(),this.fillFormArray()})})}},reject:()=>{}})}editRateplaneGroup(t){let c=this.viewDetails&&!this.enableUpdate?"daily/rateplans/rateplansGroups/view/":"daily/rateplans/rateplansGroups/edit/";c+=this.servicesList[t].ratePlanGroupKey,this.router.navigateByUrl(c)}editPgGroup(t){let r=this.viewDetails&&!this.enableUpdate?"/daily/prices/view/":"/daily/prices/edit/";r+=t,this.router.navigateByUrl(r)}detectFormArryChanges(){this.changesUnsubscribe.next(!0),(0,C.T)(...this.servicesForm.get("servicesArray").controls.map((t,r)=>t.valueChanges.pipe((0,m.R)(this.changesUnsubscribe),(0,A.U)(c=>({rowIndex:r,control:t,data:c}))))).subscribe(t=>{console.log("changes",t),this.rowIndex=t.rowIndex,this.onValueChanged(t)})}onValueChanged(t){var r;let c=!1;this.Changeditems&&(null===(r=this.Changeditems)||void 0===r||r.map(g=>{if(g.rowIndex===t.rowIndex)return c=!0,"rateplans"==this.source?t.data=Object.assign(Object.assign({},t.data),{ratePlanCode:this.servicesList[this.rowIndex].ratePlanCode}):"prices"===this.source&&(t.data=Object.assign(Object.assign({},t.data),{priceGroupCode:this.servicesList[this.rowIndex].priceGroupCode})),console.log("changes exist item",g),g.data=JSON.parse(JSON.stringify(t.data))}),console.log("changesItem",this.Changeditems)),"rateplans"==this.source?t.data=JSON.parse(JSON.stringify(Object.assign(Object.assign({},t.data),{ratePlanCode:this.servicesList[this.rowIndex].ratePlanCode}))):"prices"===this.source&&(t.data=JSON.parse(JSON.stringify(Object.assign(Object.assign({},t.data),{priceGroupCode:this.servicesList[this.rowIndex].priceGroupCode})))),c||console.log("changes first time",t),c||this.Changeditems.push(t)}getAllFootprints(t,r){let c={userId:r||null,echoDate:t||this.footprintService.getTodayInTime()};this.footPrintSubscription=this.footprintService.getFootprintsRequest(c).subscribe(g=>{this.servicesList=g.payload.logModelList,this.tableListclone=g.payload.logModelList,this.fillFormArray()})}openLogDetails(t){let r=this.servicesList[t].transactionUserDetails;this.footprintService.openDialog.next({show:!0,empty:!(r.length>0),data:r})}ngOnDestroy(){var t,r,c;null===(t=this.searchSubscription)||void 0===t||t.unsubscribe(),null===(r=this.clearSubscription)||void 0===r||r.unsubscribe(),null===(c=this.footPrintSubscription)||void 0===c||c.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.sBO),e.Y36(d.r),e.Y36(o.k),e.Y36(p.g),e.Y36(h.YP),e.Y36(P.F0),e.Y36(p.g),e.Y36(x.x))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-services-list"]],viewQuery:function(t,r){if(1&t&&e.Gf(l,5),2&t){let c;e.iGM(c=e.CRH())&&(r.dt=c.first)}},inputs:{source:"source",inputs:"inputs",logs:"logs",enableUpdate:"enableUpdate",enableDelete:"enableDelete",viewDetails:"viewDetails"},decls:8,vars:9,consts:[["autocomplete","off",3,"formGroup","ngSubmit"],["styleClass","p-datatable-customers  p-datatable-striped","dataKey","id",3,"value","paginator","totalRecords","rows","loading","rowsPerPageOptions"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[4,"ngIf"],["header","Confirmation","icon","pi pi-exclamation-triangle",1,"confirm-dialog"],[4,"ngFor","ngForOf"],[1,"mt-2"],[1,"break"],["formArrayName","servicesArray"],[3,"formGroupName","ngClass","click"],["class","p-float-label",4,"ngIf"],[3,"disabled","binary","trueValue","falseValue","formControlName",4,"ngIf"],[1,"p-float-label"],["styleClass","tableDrop",3,"options","placeholder","optionLabel","optionValue","showClear","autoDisplayFirst","formControlName"],[3,"disabled","binary","trueValue","falseValue","formControlName"],["pButton","","type","button","class","edit-button mr-3","iconPos","left",3,"click",4,"ngIf"],["pButton","","type","button","class","delete-button mr-3","iconPos","left",3,"click",4,"ngIf"],["pButton","","type","button","iconPos","left",1,"edit-button","mr-3",3,"click"],[1,"icon-edit"],[1,"icon-eye"],["pButton","","type","button","iconPos","left",1,"delete-button","mr-3",3,"click"],[1,"pi","pi-trash"],["colspan","7",2,"text-align","center"],["pTemplate","paginatorright"],["pButton","","class","btn btn-basic","style","width: 100px","type","submit","label","Submit",3,"disabled",4,"ngIf"],["pButton","","type","submit","label","Submit",1,"btn","btn-basic",2,"width","100px",3,"disabled"]],template:function(t,r){1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return r.updateList()}),e.TgZ(1,"p-table",1,2),e.YNc(3,B,3,2,"ng-template",3),e.YNc(4,V,4,4,"ng-template",4),e.YNc(5,Y,3,0,"ng-template",5),e.YNc(6,z,1,0,null,6),e.qZA()(),e._UZ(7,"p-confirmDialog",7)),2&t&&(e.Q6J("formGroup",r.servicesForm),e.xp6(1),e.Q6J("value",r.getControls())("paginator",r.tableList.length>0)("totalRecords",r.tableList.length)("rows",r.pageSize)("loading",r.loading)("rowsPerPageOptions",e.DdM(8,$)),e.xp6(5),e.Q6J("ngIf",!("rateplansGroups"===r.source||"pgGroups"===r.source)))},directives:[n._Y,n.JL,n.sg,N.iA,h.jx,y.sg,y.O5,n.CE,n.x0,y.mk,L.Lt,n.JJ,n.u,G.XZ,_.Hq,f.Q],styles:['.break[_ngcontent-%COMP%] {\n  font-family: "icomoon";\n  font-weight: lighter;\n  font-size: 31px;\n}\n\n.icon-eye[_ngcontent-%COMP%] {\n  font-size: 13px;\n  padding-right: 0.2rem;\n  vertical-align: bottom;\n}\n\n.pointer[_ngcontent-%COMP%] {\n  cursor: pointer;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZpY2VzLWxpc3QuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxzQkFBQTtFQUNBLG9CQUFBO0VBQ0EsZUFBQTtBQUNGOztBQUNBO0VBQ0UsZUFBQTtFQUNBLHFCQUFBO0VBQ0Esc0JBQUE7QUFFRjs7QUFBQTtFQUNFLGVBQUE7QUFHRiIsImZpbGUiOiJzZXJ2aWNlcy1saXN0LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmJyZWFrIHtcclxuICBmb250LWZhbWlseTogXCJpY29tb29uXCI7XHJcbiAgZm9udC13ZWlnaHQ6IGxpZ2h0ZXI7XHJcbiAgZm9udC1zaXplOiAzMXB4O1xyXG59XHJcbi5pY29uLWV5ZSB7XHJcbiAgZm9udC1zaXplOiAxM3B4O1xyXG4gIHBhZGRpbmctcmlnaHQ6IDAuMnJlbTtcclxuICB2ZXJ0aWNhbC1hbGlnbjogYm90dG9tO1xyXG59XHJcbi5wb2ludGVye1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxufVxyXG4iXX0= */']}),i})()}}]);
//# sourceMappingURL=default-src_app_shared_components_service-form_service-form_component_ts-src_app_shared_compo-992512.js.map